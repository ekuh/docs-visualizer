= Use Layers in Anypoint Visualizer
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]

When you associate a node with a layer, you create a visual representation of the applications in your network.
Use one of the default layers provided by Anypoint Visualizer, or create a custom layer.

== Add an API, Application, or Proxy to a Layer

Map a node to a layer in the application's properties file, or use the Anypoint Visualizer UI.

=== Set a Layer with Properties

To automate the classification of nodes into layers, configure the property `anypoint.platform.visualizer.layer=<name>` in the application's properties file.

When this property is used, nodes automatically appear in the specified layer. If the layer doesn't exist it is created.

[NOTE]
====
* For applications deployed to standalone Mule runtime engines, layer names set using runtime properties can contain only alphanumeric characters. Unsupported characters are replaced with an underscore (`_`).
* You cannot reassign a node layer using the Anypoint Visualizer UI if you assign it using application property file.
====

== Set a Layer with the Anypoint Visualizer UI

If a node was not assigned to a layer at deployment time using the Runtime Manager UI or API, by default, the node is not assigned to a layer in Anypoint Visualizer. Use the Anypoint Visualizer UI to:

* Assign a node to an existing layer or, if the node does not have a layer set via properties, change the assigned layer.
* Create a new layer.

=== Assign a Layer to a Node

. Select the application node to add to a layer. +
You can hold the shift key to select multiple nodes to apply layers to all the selected nodes at once. +
+
_Result_: The *Customization* panel for the node appears in the right side of the panel as shown in the following image:
+
image::select-node.png[Select Node]

. In the *Customization* panel, expand the drop-down list next to *Layer* as shown in the following image:
+
image::select-layer.png[Select Layer]

. Select the layer you want from the drop-down list.

_Result_: The node you selected appears within the layer as shown in the following image:

image::select-layer-result.png[Node in Layer]

=== Create a New Layer

In addition to the default layers provided by Anypoint Visualizer, you can create new layers to customize the view of your application network.

. Select the node to add to a new layer.
. From the drop-down list in the *Customization* panel, select *New Layer*.
. Enter a name for your layer in the dialog box, then click *Create Layer*. +

_Result_: The node appears in the new layer. You can add additional nodes to the new layer as necessary.

== Delete a Layer

If a layer has no services assigned to it, Anypoint Visualizer deletes the layer automatically:

* If the layer is a default layer, it disappears from the canvas but is still available in the dropdown.
* If the layer is a custom layer, it disappears from the canvas and the dropdown.

Anypoint Visualizer also automatically adjusts the network display.

== Reorder Layers

In the Visualizer display, use the arrows on the right side of the layer to move it up or down relative to the other layers.

== See Also

* xref:view.adoc[View Application Information with Anypoint Visualizer]
* xref:use-tags-in-visualizer.adoc[Use Tags in Anypoint Visualizer]